<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:600|Domine|Playfair+Display" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
    crossorigin="anonymous">
  <link rel="stylesheet" href="css/style.css">
  <title>Questioner | All meetups</title>
</head>

<body>
  <div class="small__container__fix">
    <header class="header">
      <div class="container">
        <div class="header__content">
          <a href="index.html" class="header__logo">
            <h1 class="header__logo--title">Questioner</h1>
          </a>
          <!--/.header__logo-->

          <a href="#" class="menu"><span class="menu-icon-container"><i class="fas fa-bars"></i></span></a>

          <nav class="nav">
            <ul class="nav__item">
              <li class="nav__list"><a href="meetups.html" class="nav__link">All meetups</a></li>
              <li class="nav__list"><a href="sign-in.html" class="nav__link btn btn__primary--color btn__primary--color--outline">sign
                  in</a></li>
              <li class="nav__list"><a href="sign-up.html" class="nav__link btn btn__primary--color">sign up</a></li>
            </ul>
          </nav>
          <!--/.nav-->
        </div>
      </div>
    </header>
    <!--/.main-header-->

    <section class="upcoming padding-top-fix">
      <div class="container">
        <h1 class="upcoming__content__title">Checkout All Our Meetups</h1>
        <div class="upcoming__content" id="meetupss">

          <script>
            async function getAllMeetup(data) {
              try {
                const response = await fetch(data);
                const allData = await response.json();
                console.log(allData);

                for (let i = 0; i < allData.data.length; i++) {
                  let output = document.getElementById('meetupss').innerHTML +=
                    `<div class="upcoming__meetup__container">
                  <a href="view-meetup-details.html" class="upcoming__meetup br">
                    <figure class="upcoming__media">
                      <img src="./img/question_img/thumbnail_meetup.jpg" alt="" class="upcoming__img">
                    </figure>

                    <header class="upcoming__header">
                      <span class="upcoming__category">Technology</span>
<h3 class="upcoming__meetup__topic">${allData.data[i].topic}</h3>
<span class="upcoming__category">${allData.data[i].location}</span>
                    </header>

                    <div class="upcoming__body">
                      <span class="accept__btn">View details</span>
                    </div>
                  </a>
                </div>`
                }
              } catch (err) {
                console.log(err);
              }
            }
          </script>
          <!--/.upcoming__meetup__container-->
        </div>
      </div>
      <!--/.container-->
  </div>
  </section>
  <!--/.upcoming-->

  </div>

  <section class="footer">
    <div class="container">
      <div class="footer__content">
        <ul class="footer__item">
          <li class="footer__list">
            <span class="footer-heart-container">Made with <i class="fas fa-heart"></i> By Yemi</span>
          </li>

          <li class="footer__list">
            <span>&copy; Questioner 2019</span>
          </li>
        </ul>
      </div>
    </div>
    </div>
  </section>
  <!--/.footer-->

  <script src="js/script.js"></script>
  <script>
    window.onload = function (e) {
      const url = 'https://meet-up-questioner.herokuapp.com/api/v1/meetups/';
      const request = new Request(url, {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json'
        }
      });

      // get all meetup record
      getAllMeetup(request);
    }
  </script>
</body>

</html>